%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Masters/Doctoral Thesis 
% LaTeX Template
% Version 2.5 (27/8/17)
%
% This template was downloaded from:
% http://www.LaTeXTemplates.com
%
% Version 2.x major modifications by:
% Vel (vel@latextemplates.com)
%
% This template is based on a template by:
% Steve Gunn (http://users.ecs.soton.ac.uk/srg/softwaretools/document/templates/)
% Sunil Patel (http://www.sunilpatel.co.uk/thesis-template/)
%
% Template license:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

% https://tex.stackexchange.com/q/537928/142924
\RequirePackage{yax}
\let\texapiletcs\letcs
\let\letcs\relax
\RequirePackage{etoolbox}
\let\etoolboxletcs\letcs

\documentclass[
11pt, % The default document font size, options: 10pt, 11pt, 12pt
%oneside, % Two side (alternating margins) for binding by default, uncomment to switch to one side
english, % ngerman for German
singlespacing, % Single line spacing, alternatives: onehalfspacing or doublespacing
%draft, % Uncomment to enable draft mode (no pictures, no links, overfull hboxes indicated)
%nolistspacing, % If the document is onehalfspacing or doublespacing, uncomment this to set spacing in lists to single
%liststotoc, % Uncomment to add the list of figures/tables/etc to the table of contents
%toctotoc, % Uncomment to add the main table of contents to the table of contents
%parskip, % Uncomment to add space between paragraphs
%nohyperref, % Uncomment to not load the hyperref package
headsepline, % Uncomment to get a line under the header
%chapterinoneline, % Uncomment to place the chapter title next to the number on one line
%consistentlayout, % Uncomment to change the layout of the declaration, abstract and acknowledgements pages to match the default layout
]{MastersDoctoralThesis} % The class file specifying the document structure

\usepackage[utf8]{inputenc} % Required for inputting international characters
\usepackage[T1]{fontenc} % Output font encoding for international characters
\usepackage{mathpazo} % Use the Palatino font by default
\usepackage[backend=bibtex,style=numeric,natbib=true]{biblatex}
% was: backend=bibtex,style=authoryear,natbib=true
% Use the bibtex backend with the authoryear citation style (which resembles APA)

\addbibresource{references.bib} % The filename of the bibliography

\usepackage[autostyle=true]{csquotes} % Required to generate language-dependent quotes in the bibliography

%%%% added by me %%%%
\usepackage{bookmark}
\usepackage{todonotes}
\usepackage[cmex10]{amsmath}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{stfloats}
\usepackage{eurosym}
\usepackage{multirow}
\usepackage{tabu}
% for SmartCheck
\usepackage{colortbl}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{tikz}
\usepackage{tikz-qtree}
\usepackage{xcolor}
\usepackage{listings}

\usepackage{mathtools}
\usepackage[noabbrev, capitalize]{cleveref}

\usepackage{syntax}
\usepackage{algorithm2e}

\usepackage{epigraph}

%\usepackage{underscore}
\usepackage{hyperref} % as per its manual, must be added last


% for Findel, KYC
% https://tex.stackexchange.com/a/61266/142924
\newtheorem{definition}{Definition}
\newcommand{\missing}[1]{\textcolor{red}{#1}}
\newcommand*\rot{\rotatebox{90}}

\graphicspath{{Chapters/Chapter03/figures/}{Chapters/Chapter04/figures/}{Chapters/Chapter06/figures/}{Chapters/Chapter07/figures/}{Chapters/Chapter12/figures/}}

\setcounter{secnumdepth}{3} % for references to subsubsections in SmartCheck
% use \subsubsection* to avoid 4-digit numbering elsewhere
%\setcounter{tocdepth}{2}	% but don't include subsubsections in ToC
\setcounter{tocdepth}{3}	% include subsubsections in ToC


%----------------------------------------------------------------------------------------
%	MARGIN SETTINGS
%----------------------------------------------------------------------------------------

\geometry{
	paper=a4paper, % Change to letterpaper for US letter
	inner=2.5cm, % Inner margin
	outer=3.8cm, % Outer margin
	bindingoffset=.5cm, % Binding offset
	top=1.5cm, % Top margin
	bottom=1.5cm, % Bottom margin
	%showframe, % Uncomment to show how the type block is set on the page
}

%----------------------------------------------------------------------------------------
%	THESIS INFORMATION
%----------------------------------------------------------------------------------------

\thesistitle{Security and Privacy of Blockchain Protocols and Applications} % Your thesis title, this is used in the title and abstract, print it elsewhere with \ttitle
\supervisor{Dr. Alex \textsc{Biryukov}} % Your supervisor's name, this is used in the title page, print it elsewhere with \supname
\examiner{} % Your examiner's name, this is not currently used anywhere in the template, print it elsewhere with \examname
\degree{Doctor of Philosophy} % Your degree name, this is used in the title page and abstract, print it elsewhere with \degreename
\author{Sergei \textsc{Tikhomirov}} % Your name, this is used in the title page and abstract, print it elsewhere with \authorname
\addresses{} % Your address, this is not currently used anywhere in the template, print it elsewhere with \addressname

\subject{Computer Science} % Your subject area, this is not currently used anywhere in the template, print it elsewhere with \subjectname
\keywords{} % Keywords for your thesis, this is not currently used anywhere in the template, print it elsewhere with \keywordnames
\university{\href{https://wwwen.uni.lu/}{University of Luxembourg}} % Your university's name and URL, this is used in the title page and abstract, print it elsewhere with \univname
\department{\href{https://wwwen.uni.lu/research/fstm/dcs}{Department of Computer Science}} % Your department's name and URL, this is used in the title page and abstract, print it elsewhere with \deptname
\group{\href{https://www.cryptolux.org/}{CryptoLUX Research Group}} % Your research group's name and URL, this is used in the title page, print it elsewhere with \groupname
\faculty{\href{https://wwwen.uni.lu/fstm}{Faculty of Science, Technology and Medicine}} % Your faculty's name and URL, this is used in the title page and abstract, print it elsewhere with \facname

\AtBeginDocument{
\hypersetup{pdftitle=\ttitle} % Set the PDF's title to your title
\hypersetup{pdfauthor=\authorname} % Set the PDF's author to your name
\hypersetup{pdfkeywords=\keywordnames} % Set the PDF's keywords to your keywords
}

\begin{document}

\input{BeforeChapters}

%----------------------------------------------------------------------------------------
%	THESIS CONTENT - CHAPTERS
%----------------------------------------------------------------------------------------

\mainmatter % Begin numeric (1,2,3...) page numbering

\pagestyle{thesis} % Return the page headers back to the "thesis" style

% Include the chapters of the thesis as separate files from the Chapters folder
% Uncomment the lines as you write the 	chapters

\include{Chapters/Chapter01/Chapter01Introduction}

\part{Network-level privacy in Bitcoin and privacy-focused cryptocurrencies}
\label{Part1Privacy}
\include{Chapters/Chapter02/Chapter02IntroP2P}
\include{Chapters/Chapter03/Chapter03Clustering}
\include{Chapters/Chapter04/Chapter04Wallets}

\part{Privacy of the Lightning Network}
\label{Part2Lightning}
\include{Chapters/Chapter05/Chapter05IntroLightning}
\include{Chapters/Chapter06/Chapter06LNprobing}
\include{Chapters/Chapter07/Chapter07LNattacks}
\include{Chapters/Chapter08/Chapter08HTLClimit}

\part{Security of Ethereum smart contracts}
\label{Part3Ethereum}
\input{solidity-highlighting}
\include{Chapters/Chapter09/Chapter09Introcontracts}
\include{Chapters/Chapter10/Chapter10Findel}
\include{Chapters/Chapter11/Chapter11SmartCheck}
\include{Chapters/Chapter12/Chapter12KYC}

%\bookmarksetupnext{level=chapter}
%\include{Chapters/Chapter13/Chapter13Conclusion}

%----------------------------------------------------------------------------------------
%	THESIS CONTENT - APPENDICES
%----------------------------------------------------------------------------------------

\appendix % Cue to tell LaTeX that the following "chapters" are Appendices

% Include the appendices of the thesis as separate files from the Appendices folder
% Uncomment the lines as you write the Appendices

%\include{Appendices/AppendixA}
%\include{Appendices/AppendixB}
%\include{Appendices/AppendixC}

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

\printbibliography[heading=bibintoc]

\setcounter{secnumdepth}{-1}
\input{ListOfPublications}
%----------------------------------------------------------------------------------------

\end{document}  
